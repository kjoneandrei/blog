---
layout: post
title: Serpent - more than just another JSON mapping framework
date: 2017-03-01 10:10:57
tags: ios,JSON,mapping,parsing,framework
authorIds:
- maco
categories:
- iOS
---

<p class="date">2017-03-01 10:10:57</p>
<p align="center">
<img src="https://d1gwekl0pol55k.cloudfront.net/image/nstack/translate_values/Serpent_icon_MKPKLwKrTM.png" width=30%/>
</p>
<p>At <a href="https://nodesagency.com">Nodes</a>, we develop apps that rely a lot on complex REST APIs. The iOS team needed a fast and fully featured JSON mapping framework. We had been using our own internal parsing framework for Objective-C for a long time, but when Swift came out we decided to create a new one, in Swift, taking advantage of protocol-oriented programming.</p>
<p>After many iterations and a renaming (our JSON mapping framework was previously known as Serializable), we are proud to announce that <a href="https://github.com/nodes-ios/Serpent">Serpent</a> has reached version 1.0.</p>
<h3 id="another-json-mapping-framework">Another JSON mapping framework?</h3>
<p>More than that. Serpent is <a href="https://github.com/nodes-ios/SerpentPerformanceComparison#-the-results">one of the fastest JSON mappers</a> out there and has the most features, according to <a href="https://github.com/nodes-ios/SerpentPerformanceComparison#-feature-comparison">our analysis</a>.</p>
<p align="center">
<img src = "https://raw.githubusercontent.com/nodes-ios/SerpentPerformanceComparison/master/chart.png"/>
</p>
<p>And maybe you only have to parse and map small JSONs, and you don’t care that much about the time it takes. But what about the time it takes to write the mapping code?</p>
<p>We made a tool that goes hand in hand with Serpent: with <img src="https://d1gwekl0pol55k.cloudfront.net/image/nstack/translate_values/ModelBoiler_1281_Hkq7ey3ZGo.png" width=4%/> <strong>Model Boiler</strong> you only have to declare the properties on your model, and the parsing code will be generated for you, potentially saving you hours of work.</p>
<p align="center">
<img src = "https://d1gwekl0pol55k.cloudfront.net/image/nstack/translate_values/ModelBoiler_5S0fTmSARI.gif"/>
</p>
<h3 id="but-why-build-a-new-one">But why build a new one?</h3>
<p>Yes, there are lots of other JSON mapping frameworks out there. But when we started developing Serpent, there was only SwiftyJSON, which wasn’t exactly what we wanted. So we needed to build our own.</p>
<p>In February 2016, we moved the project to a <a href="https://github.com/nodes-ios/Serpent">public GitHub repo</a> and began developing in the open. At the same time, we started using this framework in all our apps, and at the moment, we can say that <strong>Serpent is used in apps with more than 1.3 million monthly users</strong>.</p>
<h3 id="working-with-serpent">Working with Serpent</h3>
<p>We built Serpent to make developers’ life as easy as possible when creating models. So we also built a few goodies around Serpent, which allow the developer to save a lot of time when creating the models for the app.</p>
<h4 id="serpent-xcode-file-template"><img src = "https://d1gwekl0pol55k.cloudfront.net/image/nstack/translate_values/TemplateIcon_ma6gVMOOZ7.png" width=4%/> Serpent Xcode File Template</h4>
<p>We made the <a href="https://github.com/nodes-ios/SerpentXcodeFileTemplate">Serpent Xcode File Template</a>, which adds a new file template for Xcode. No more typing <code>import Serpent</code> manually. It sounds small, but when you have to create 10-20 models, it saves you from a lot of annoyance.</p>
<p align="center">
<img src="https://d1gwekl0pol55k.cloudfront.net/image/nstack/translate_values/687474703a2f2f692e696d6775722e636f6d2f6a75647a614a5a2e706e67_JSsVywYm5H.png" width=50%/>
</p>
<h4 id="model-boiler"><img src="https://d1gwekl0pol55k.cloudfront.net/image/nstack/translate_values/ModelBoiler_1281_Hkq7ey3ZGo.png" width=4%/> Model Boiler</h4>
<p>The most annoying part when working with JSONs in Swift is typing all the parsing code. We made a tool that works with Serpent that does that for you. The <a href="https://github.com/nodes-ios/ModelBoiler">Model Boiler</a> is a small macOS app that lives in your mac’s menu bar. In Xcode (or your favourite editor), select the code for the model and its properties, and press a keyboard shortcut, and the Model Boiler will generate the necessary code for parsing to your Clipboard. You can just paste the parsing code in your model. And that’s it.</p>
<p align="center">
<img src = "https://d1gwekl0pol55k.cloudfront.net/image/nstack/translate_values/modelboiler_QFktJAlXOv.gif" width=40%/>
</p>
<p>Together with the Xcode file template and with the Model Boiler, Serpent is (in our opinion) the easiest and most pleasant to use JSON mapping framework for Swift.</p>
<h3 id="why-serpent">Why Serpent?</h3>
<p>Here’s a short list of some of the advantages that Serpent has:</p>
<ul>
<li>Its own <a href="https://github.com/nodes-ios/SerpentXcodeFileTemplate">Xcode file template</a></li>
<li>Its own code generator: <a href="https://github.com/nodes-ios/ModelBoiler"><img src="https://d1gwekl0pol55k.cloudfront.net/image/nstack/translate_values/ModelBoiler_1281_Hkq7ey3ZGo.png" width=4%/> Model Boiler</a></li>
<li>The best balance between speed and features. We did <a href="https://github.com/nodes-ios/SerpentPerformanceComparison">the tests</a> and we compared it to some of the most popular JSON mapping frameworks out there.</li>
<li><a href="https://codecov.io/github/nodes-ios/Serpent">100% test coverage</a></li>
<li>Carthage, CocoaPods and Swift Package Manager support</li>
<li>Different versions of it are used in apps used by more than 1.3 million users every month (based on analytics data for some of our apps).</li>
</ul>
<p>We’re really proud to be able to release the 1.0 version of Serpent. The biggest thanks go to all the <a href="https://github.com/nodes-ios/Serpent/graphs/contributors">contributors that made it possible</a>. We hope more developers find Serpent useful and give it a try in their apps.</p>
<p>Serpent is <a href="https://github.com/nodes-ios/Serpent">open source</a>. If you find bugs or have ideas for new features, you’re more than welcome to contribute to Serpent. And if you really like what we’re doing, check out the <a href="https://www.nodesagency.com/careers/">Nodes careers page</a> and join us to make awesome things together.</p>
